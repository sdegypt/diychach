<!-- Google AdSense Integration -->
<% 
// Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª - ÙŠÙ…ÙƒÙ† ØªØ®ØµÙŠØµÙ‡Ø§ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
const adsConfig = {
  enabled: true, // ØªÙØ¹ÙŠÙ„/Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
  publisherId: 'ca-pub-XXXXXXXXXXXXXXXXX', // Ù…Ø¹Ø±Ù Ø§Ù„Ù†Ø§Ø´Ø± - ÙŠØ¬Ø¨ ØªØºÙŠÙŠØ±Ù‡
  autoAds: true, // Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
  adBlockDetection: true, // ÙƒØ´Ù Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
  respectUserPrivacy: true // Ø§Ø­ØªØ±Ø§Ù… Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
};

// Ù…ÙˆØ§Ø¶Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
const adPlacements = {
  header: { enabled: true, slot: '1234567890', size: 'responsive' },
  sidebar: { enabled: true, slot: '1234567891', size: '300x250' },
  content: { enabled: true, slot: '1234567892', size: 'responsive' },
  footer: { enabled: true, slot: '1234567893', size: '728x90' },
  mobile: { enabled: true, slot: '1234567894', size: 'responsive' }
};
%>

<% if (adsConfig.enabled) { %>
  <!-- Google AdSense Auto Ads -->
  <% if (adsConfig.autoAds) { %>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=<%= adsConfig.publisherId %>" 
            crossorigin="anonymous"
            data-ad-frequency-hint="30s"
            data-ad-layout-key="-6t+ed+2i-1n-4w"
            data-full-width-responsive="true"></script>
    
    <!-- Auto Ads Configuration -->
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "<%= adsConfig.publisherId %>",
        enable_page_level_ads: true,
        overlays: {bottom: true}
      });
    </script>
  <% } %>

  <!-- Ad Block Detection -->
  <% if (adsConfig.adBlockDetection) { %>
    <script>
      // ÙƒØ´Ù Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
      function detectAdBlock() {
        const adBlockTest = document.createElement('div');
        adBlockTest.innerHTML = '&nbsp;';
        adBlockTest.className = 'adsbox';
        adBlockTest.style.position = 'absolute';
        adBlockTest.style.left = '-10000px';
        document.body.appendChild(adBlockTest);
        
        setTimeout(() => {
          if (adBlockTest.offsetHeight === 0) {
            showAdBlockMessage();
          }
          document.body.removeChild(adBlockTest);
        }, 100);
      }

      function showAdBlockMessage() {
        const adBlockNotice = document.createElement('div');
        adBlockNotice.id = 'adblock-notice';
        adBlockNotice.innerHTML = `
          <div style="background: linear-gradient(135deg, #FF7F50, #FF5722); color: white; padding: 15px; text-align: center; position: fixed; top: 0; left: 0; right: 0; z-index: 10000; box-shadow: 0 2px 10px rgba(0,0,0,0.2);">
            <div style="max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 10px;">
              <div style="flex: 1; min-width: 250px;">
                <strong>ğŸš« ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</strong><br>
                <small>ÙŠØ±Ø¬Ù‰ Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„Ø¯Ø¹Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ù„Ø§Ø³ØªÙ…ØªØ§Ø¹ Ø¨Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ</small>
              </div>
              <button onclick="document.getElementById('adblock-notice').style.display='none'" 
                      style="background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 8px 16px; border-radius: 20px; cursor: pointer; transition: all 0.3s;">
                Ø¥ØºÙ„Ø§Ù‚
              </button>
            </div>
          </div>
        `;
        document.body.appendChild(adBlockNotice);
      }

      // ØªØ´ØºÙŠÙ„ ÙƒØ´Ù Ù…Ø§Ù†Ø¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', detectAdBlock);
      } else {
        detectAdBlock();
      }
    </script>
  <% } %>

  <!-- Privacy Compliance -->
  <% if (adsConfig.respectUserPrivacy) { %>
    <script>
      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
      window.googletag = window.googletag || {cmd: []};
      googletag.cmd.push(function() {
        // ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ù…Ø­Ø¯ÙˆØ¯
        googletag.pubads().setPrivacySettings({
          'restrictDataProcessing': true,
          'childDirectedTreatment': false,
          'underAgeOfConsent': false
        });
        
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ø§ÙˆØ¨Ø©
        googletag.pubads().enableSingleRequest();
        googletag.pubads().collapseEmptyDivs();
        googletag.enableServices();
      });
    </script>
  <% } %>

  <!-- CSS Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
  <style>
    /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª */
    .ad-container {
      margin: 20px 0;
      text-align: center;
      position: relative;
      overflow: hidden;
      border-radius: 8px;
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      transition: all 0.3s ease;
    }

    .ad-container:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .ad-label {
      font-size: 10px;
      color: #6c757d;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 5px;
      font-weight: 600;
    }

    .ad-responsive {
      display: block;
      width: 100%;
      height: auto;
      min-height: 100px;
    }

    /* Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ */
    @media (max-width: 768px) {
      .ad-container {
        margin: 15px 0;
        border-radius: 6px;
      }
      
      .ad-desktop-only {
        display: none !important;
      }
    }

    /* Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ */
    @media (min-width: 769px) {
      .ad-mobile-only {
        display: none !important;
      }
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
    .ad-loading {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: loading 1.5s infinite;
    }

    @keyframes loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„ÙØ§Ø±ØºØ© */
    .ad-container:empty {
      display: none;
    }
  </style>

  <!-- JavaScript Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
  <script>
    // ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
    window.AdManager = {
      // ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ù„Ø§Ù†
      loadAd: function(containerId, adSlot, adSize) {
        const container = document.getElementById(containerId);
        if (!container) return;

        container.classList.add('ad-loading');
        
        // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†
        setTimeout(() => {
          container.classList.remove('ad-loading');
          
          // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„ÙØ¹Ù„ÙŠ Ù‡Ù†Ø§
          if (window.adsbygoogle) {
            const adElement = document.createElement('ins');
            adElement.className = 'adsbygoogle';
            adElement.style.display = 'block';
            adElement.setAttribute('data-ad-client', '<%= adsConfig.publisherId %>');
            adElement.setAttribute('data-ad-slot', adSlot);
            adElement.setAttribute('data-ad-format', 'auto');
            adElement.setAttribute('data-full-width-responsive', 'true');
            
            container.appendChild(adElement);
            (adsbygoogle = window.adsbygoogle || []).push({});
          }
        }, 1000);
      },

      // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
      hideAds: function() {
        document.querySelectorAll('.ad-container').forEach(ad => {
          ad.style.display = 'none';
        });
      },

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
      showAds: function() {
        document.querySelectorAll('.ad-container').forEach(ad => {
          ad.style.display = 'block';
        });
      },

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
      refreshAds: function() {
        if (window.googletag) {
          googletag.cmd.push(function() {
            googletag.pubads().refresh();
          });
        }
      }
    };

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', function() {
      // ØªØ£Ø®ÙŠØ± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡
      setTimeout(() => {
        document.querySelectorAll('.ad-container[data-ad-slot]').forEach(container => {
          const adSlot = container.getAttribute('data-ad-slot');
          const adSize = container.getAttribute('data-ad-size') || 'responsive';
          AdManager.loadAd(container.id, adSlot, adSize);
        });
      }, 2000);
    });
  </script>
<% } %>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø±Ø£Ø³ (Header Ad) -->
<% if (adsConfig.enabled && adPlacements.header.enabled) { %>
  <div class="ad-container ad-desktop-only" id="header-ad" data-ad-slot="<%= adPlacements.header.slot %>" data-ad-size="<%= adPlacements.header.size %>">
    <div class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</div>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
  </div>
<% } %>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ (Sidebar Ad) -->
<% if (adsConfig.enabled && adPlacements.sidebar.enabled) { %>
  <div class="ad-container" id="sidebar-ad" data-ad-slot="<%= adPlacements.sidebar.slot %>" data-ad-size="<%= adPlacements.sidebar.size %>">
    <div class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</div>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
  </div>
<% } %>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (Content Ad) -->
<% if (adsConfig.enabled && adPlacements.content.enabled) { %>
  <div class="ad-container" id="content-ad" data-ad-slot="<%= adPlacements.content.slot %>" data-ad-size="<%= adPlacements.content.size %>">
    <div class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</div>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
  </div>
<% } %>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„ØªØ°ÙŠÙŠÙ„ (Footer Ad) -->
<% if (adsConfig.enabled && adPlacements.footer.enabled) { %>
  <div class="ad-container ad-desktop-only" id="footer-ad" data-ad-slot="<%= adPlacements.footer.slot %>" data-ad-size="<%= adPlacements.footer.size %>">
    <div class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</div>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
  </div>
<% } %>

<!-- Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ (Mobile Ad) -->
<% if (adsConfig.enabled && adPlacements.mobile.enabled) { %>
  <div class="ad-container ad-mobile-only" id="mobile-ad" data-ad-slot="<%= adPlacements.mobile.slot %>" data-ad-size="<%= adPlacements.mobile.size %>">
    <div class="ad-label">Ø¥Ø¹Ù„Ø§Ù†</div>
    <!-- Ø³ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ù‡Ù†Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
  </div>
<% } %>

